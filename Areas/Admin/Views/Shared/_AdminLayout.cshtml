@{
    Layout = null; // Este layout es el shell del área Admin
    var title = ViewData["Title"] as string ?? "Admin";
}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>@title • StayGo</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

    <style>
        :root{
            /* Sage palette */
            --sage-50:#f5f7f4; --sage-100:#e9efe6; --sage-200:#dce6d7; --sage-300:#c9d7c2;
            --sage-400:#a3b18a; --sage-500:#7fa174; --sage-600:#5e8a63; --sage-700:#3f6b4f;
            --sage-800:#2f5b45; --sage-900:#26453a;
            --ink:#243036; --muted:#6c757d; --card:#ffffff;
            --shadow: 0 10px 25px rgba(36,48,54,.08);
            --radius: 16px;
            --ring: rgba(63,107,79,.35);
        }
        html,body{height:100%; background:var(--sage-50); color:var(--ink);}
        body{overflow-x:hidden;}

        /* Topbar */
        .topbar{
            height:64px; background:#fff; border-bottom:1px solid #e9ecef;
            display:flex; align-items:center; gap:.75rem; padding:0 16px; position:sticky; top:0; z-index:1031;
        }
        .brand{display:flex; align-items:center; gap:.5rem; font-weight:700; letter-spacing:.2px; color:var(--sage-800);}
        .brand .logo{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--sage-400),var(--sage-700));display:grid;place-items:center;color:#fff;box-shadow:var(--shadow);}
        .btn-burger{border:1px solid #e5e7eb; background:#fff; transition:all .2s;}
        .btn-burger:hover{background:var(--sage-100); border-color:var(--sage-200);}

        /* Sidebar */
        .sidebar{
            position:fixed; inset:0 auto 0 0; width:268px;
            background:linear-gradient(180deg, var(--sage-900), #1b2a23 60%, var(--sage-800));
            color:#dfe7e3; transform:translateX(-100%); transition:transform .28s ease; z-index:1040;
            box-shadow: 6px 0 24px rgba(0,0,0,.18);
        }
        .sidebar.open{ transform:translateX(0);}
        .side-head{height:64px; display:flex; align-items:center; justify-content:space-between; padding:0 14px; border-bottom:1px solid rgba(255,255,255,.06);}
        .side-title{display:flex; align-items:center; gap:.6rem; font-weight:700; color:#e9f3ef;}
        .side-title .logo{width:32px;height:32px;border-radius:9px; display:grid; place-items:center; color:#fff;background:linear-gradient(135deg,var(--sage-400),var(--sage-700));}
        .side-close{background:transparent; border:none; color:#cfe3d9; font-size:20px; padding:6px 10px; border-radius:10px;}
        .side-close:hover{background:rgba(255,255,255,.08);}
        .nav-admin{padding:10px;}
        .nav-admin a{display:flex; align-items:center; gap:.75rem; padding:12px 14px; border-radius:12px; color:#cfe3d9; text-decoration:none; font-weight:500; border:1px solid transparent;}
        .nav-admin a .bi{font-size:1.05rem; opacity:.9;}
        .nav-admin a:hover{ background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.07);}
        .nav-admin a.active{ background:linear-gradient(90deg, rgba(163,177,138,.25), rgba(63,107,79,.25)); color:#fff; border-color:rgba(255,255,255,.14);}

        /* Scrim (mobile) */
        .scrim{position:fixed; inset:0; background:rgba(0,0,0,.35); opacity:0; pointer-events:none; transition:opacity .25s; z-index:1035;}
        .scrim.show{opacity:1; pointer-events:auto;}

        /* Content */
        .content{ 
          margin-left:0; 
          transition:margin-left .28s ease; 
          padding:20px;}

     @@media (min-width: 992px) {
        .sidebar { transform: translateX(0); }
        .content { margin-left: 268px; }
        .scrim { display: none; }
        .btn-burger { display: none; }
    }
    }

        /* Helpful shared components for pages */
        .page-head{border-radius:18px; padding:16px 18px; margin-bottom:14px; background: radial-gradient(900px 300px at -10% -50%, var(--sage-200), transparent 45%), radial-gradient(900px 300px at 110% -50%, rgba(63,107,79,.12), transparent 55%), #fff; border:1px solid #edf1ee; box-shadow:0 10px 24px rgba(36,48,54,.06);}
        .btn-sage{--bs-btn-bg: var(--sage-600); --bs-btn-border-color: var(--sage-600); --bs-btn-hover-bg: var(--sage-700); --bs-btn-hover-border-color: var(--sage-700);}
        .btn-outline-sage{--bs-btn-color: var(--sage-700); --bs-btn-border-color: var(--sage-300); --bs-btn-hover-bg: var(--sage-100); --bs-btn-hover-border-color: var(--sage-500);}
        .filter-card{border-radius:16px; border:1px solid #edf1ee; background:#fff; box-shadow:0 8px 20px rgba(36,48,54,.05);}
        .table thead th{background:linear-gradient(0deg,var(--sage-100),var(--sage-100)) !important; color:#2d3a34; border-bottom:1px solid #e6eee8; text-transform:uppercase; font-size:.8rem; letter-spacing:.02em;}
        .thumb{width:96px; height:64px; object-fit:cover; border-radius:10px; border:1px solid #edf1ee;}
        .badge-type{background: #eef5ef; color: var(--sage-700); border:1px solid #d9e7da;}
        .empty{border:1px dashed #dfe6df; background: var(--sage-50); border-radius:16px; padding:24px;}

        /* Focus ring */
        a.btn, button, .btn-burger, .side-close{outline:none;}
        a.btn:focus-visible, button:focus-visible, .btn-burger:focus-visible, .side-close:focus-visible, .nav-admin a:focus-visible{
            box-shadow: 0 0 0 4px var(--ring);
        }
    </style>

    @RenderSection("Styles", required: false)
</head>
<body>
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar" aria-label="Menú de administración">
        <div class="side-head">
            <div class="side-title">
                <div class="logo"><i class="bi bi-leaf"></i></div>
                <span>StayGo • Admin</span>
            </div>
            <button id="btnClose" class="side-close" aria-label="Cerrar menú"><i class="bi bi-arrow-left"></i></button>
        </div>
        <nav class="nav-admin">
            <a asp-area="Admin" asp-controller="Admin" asp-action="Index"><i class="bi bi-speedometer2"></i> Dashboard</a>
            <a asp-area="Admin" asp-controller="Propiedad" asp-action="Index"><i class="bi bi-house-door"></i> Propiedades</a>
            <a asp-area="Admin" asp-controller="Reserva" asp-action="Index"><i class="bi bi-calendar-check"></i> Reservas</a>
            <a asp-area="Admin" asp-controller="Usuario" asp-action="Index"><i class="bi bi-people"></i> Usuarios</a>
            <a asp-area="Admin" asp-controller="Reportes" asp-action="Index"><i class="bi bi-graph-up"></i> Reportes</a>
            <a asp-action="Index" asp-controller="Contacto"asp-action="Index"><i class="bi bi-envelope"></i> Mensajes de Contacto</a>
            <form asp-area="Identity" asp-controller="Account" asp-action="Logout" method="post" class="mt-3">
                @Html.AntiForgeryToken()
                <button type="submit" 
                        class="w-100 btn btn-link text-start" 
                        style="color:#cfe3d9;font-weight:500;text-decoration:none;">
                    <i class="bi bi-box-arrow-right"></i> Cerrar sesión
                </button>
            </form>

        </nav>
    </aside>

    <!-- Scrim (mobile) -->
    <div id="scrim" class="scrim" aria-hidden="true"></div>

    <!-- Top bar -->
    <header class="topbar">
        <button id="btnMenu" class="btn btn-burger"><i class="bi bi-list"></i></button>
        <div class="brand">
            <div class="logo"><i class="bi bi-leaf"></i></div>
            <span>StayGo Admin</span>
        </div>
        <div class="ms-auto d-flex align-items-center gap-2">
            @* Aquí podrías renderizar el usuario logueado *@
            <span class="text-muted small d-none d-md-inline">@User?.Identity?.Name</span>
        </div>
    </header>

    <!-- Main -->
    <main id="content" class="content">
        <div class="container-fluid">
            @RenderBody()
        </div>
    </main>

    
<!-- Agrega estos scripts justo antes del cierre del body -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>

